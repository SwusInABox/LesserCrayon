<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<style>
#substance-box
{
    display: block;
    float: left;
    width: 70%;
    height: 100%;
    background-color: rgb(30, 30, 30);
    box-sizing: border-box;
}

#style-box
{
    display: block;
    float: right;
    width: 30%;
    height: 100%;
    background-color: rgb(40, 40, 40);
    box-sizing: border-box;
}

div
{
    padding: 16px;
}

#style-box-colors
{
    padding-bottom: 8px;
}

#conjoined-color-blocks
{
    padding: 0px;
    display: inline-block;
}

h2
{
    color: white;
}

label
{
    color: white;
}

mark
{
    background-color: rgba( 0, 0, 0, 0 );
}

</style>
    <title>Lesser Crayon - by Swus</title>
</head>

<body style="margin-top: 0px;margin-left: 0px;margin-right: 0px;margin-bottom: 0px;">
    <div id="substance-box">
        <h2>Raw Input</h2>
        <textarea id="rawinput" rows="10" cols="80" oninput="updatedInput()">Bided time is time spent wasted.</textarea>
        <h2>Preview</h2>
        <p id="preview" style="color:rgb(192, 192, 192)">Bided time is time spent wasted.</p>
        <h2>Output</h2>
        <textarea id="rawoutput" rows="10" cols="80" readonly="true">Bided time is time spent wasted.</textarea>
    </div>
    <div id="style-box">
        <h2>Palette</h2>
        <div id="style-box-colors"><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(128, 0, 0);" title="C001" onclick='colorButtonClicked( "rgb( 128, 0, 0 )", "C001" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(0, 128, 0);" title="C002" onclick='colorButtonClicked( "rgb( 0, 128, 0 )", "C002" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(128, 128, 0);" title="C003" onclick='colorButtonClicked( "rgb( 128, 128, 0 )", "C003" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(0, 0, 128);" title="C004" onclick='colorButtonClicked( "rgb( 0, 0, 128 )", "C004" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(128, 0, 128);" title="C005" onclick='colorButtonClicked( "rgb( 128, 0, 128 )", "C005" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(0, 128, 128);" title="C006" onclick='colorButtonClicked( "rgb( 0, 128, 128 )", "C006" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(192, 192, 192);" title="C007" onclick='colorButtonClicked( "rgb( 192, 192, 192 )", "C007" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(128, 128, 128);" title="C008" onclick='colorButtonClicked( "rgb( 128, 128, 128 )", "C008" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(255, 0, 0);" title="C009" onclick='colorButtonClicked( "rgb( 255, 0, 0 )", "C009" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(0, 255, 0);" title="C010" onclick='colorButtonClicked( "rgb( 0, 255, 0 )", "C010" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(255, 255, 0);" title="C011" onclick='colorButtonClicked( "rgb( 255, 255, 0 )", "C011" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(0, 0, 255);" title="C012" onclick='colorButtonClicked( "rgb( 0, 0, 255 )", "C012" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(255, 0, 255);" title="C013" onclick='colorButtonClicked( "rgb( 255, 0, 255 )", "C013" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(0, 255, 255);" title="C014" onclick='colorButtonClicked( "rgb( 0, 255, 255 )", "C014" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(255, 255, 255);" title="C015" onclick='colorButtonClicked( "rgb( 255, 255, 255 )", "C015" )'></button></div>
        <div id="conjoined-color-blocks">
            <div id="style-box-colors" style="display: inline-block; width: 37%;padding-right: 0px;"><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 0, 128);" title="C004" onclick='colorButtonClicked( "rgb( 0, 0, 128 )", "C004" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 0, 128);" title="C004" onclick='colorButtonClicked( "rgb( 0, 0, 128 )", "C004" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 0, 128);" title="C004" onclick='colorButtonClicked( "rgb( 0, 0, 128 )", "C004" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 0, 175);" title="C019" onclick='colorButtonClicked( "rgb( 0, 0, 175 )", "C019" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 0, 215);" title="C020" onclick='colorButtonClicked( "rgb( 0, 0, 215 )", "C020" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 0, 255);" title="C021" onclick='colorButtonClicked( "rgb( 0, 0, 255 )", "C021" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 95, 0);" title="C022" onclick='colorButtonClicked( "rgb( 0, 95, 0 )", "C022" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 95, 95);" title="C023" onclick='colorButtonClicked( "rgb( 0, 95, 95 )", "C023" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 95, 135);" title="C024" onclick='colorButtonClicked( "rgb( 0, 95, 135 )", "C024" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 95, 175);" title="C025" onclick='colorButtonClicked( "rgb( 0, 95, 175 )", "C025" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 95, 215);" title="C026" onclick='colorButtonClicked( "rgb( 0, 95, 215 )", "C026" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 95, 255);" title="C027" onclick='colorButtonClicked( "rgb( 0, 95, 255 )", "C027" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 135, 0);" title="C028" onclick='colorButtonClicked( "rgb( 0, 135, 0 )", "C028" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 135, 95);" title="C029" onclick='colorButtonClicked( "rgb( 0, 135, 95 )", "C029" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 135, 135);" title="C030" onclick='colorButtonClicked( "rgb( 0, 135, 135 )", "C030" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 135, 175);" title="C031" onclick='colorButtonClicked( "rgb( 0, 135, 175 )", "C031" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 135, 215);" title="C032" onclick='colorButtonClicked( "rgb( 0, 135, 215 )", "C032" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 135, 255);" title="C033" onclick='colorButtonClicked( "rgb( 0, 135, 255 )", "C033" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 175, 0);" title="C034" onclick='colorButtonClicked( "rgb( 0, 175, 0 )", "C034" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 175, 95);" title="C035" onclick='colorButtonClicked( "rgb( 0, 175, 95 )", "C035" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 175, 135);" title="C036" onclick='colorButtonClicked( "rgb( 0, 175, 135 )", "C036" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 175, 175);" title="C037" onclick='colorButtonClicked( "rgb( 0, 175, 175 )", "C037" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 175, 215);" title="C038" onclick='colorButtonClicked( "rgb( 0, 175, 215 )", "C038" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 175, 255);" title="C039" onclick='colorButtonClicked( "rgb( 0, 175, 255 )", "C039" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 215, 0);" title="C040" onclick='colorButtonClicked( "rgb( 0, 215, 0 )", "C040" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 215, 95);" title="C041" onclick='colorButtonClicked( "rgb( 0, 215, 95 )", "C041" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 215, 135);" title="C042" onclick='colorButtonClicked( "rgb( 0, 215, 135 )", "C042" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 215, 175);" title="C043" onclick='colorButtonClicked( "rgb( 0, 215, 175 )", "C043" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 215, 215);" title="C044" onclick='colorButtonClicked( "rgb( 0, 215, 215 )", "C044" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 215, 255);" title="C045" onclick='colorButtonClicked( "rgb( 0, 215, 255 )", "C045" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 255, 0);" title="C046" onclick='colorButtonClicked( "rgb( 0, 255, 0 )", "C046" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 255, 95);" title="C047" onclick='colorButtonClicked( "rgb( 0, 255, 95 )", "C047" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 255, 135);" title="C048" onclick='colorButtonClicked( "rgb( 0, 255, 135 )", "C048" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 255, 175);" title="C049" onclick='colorButtonClicked( "rgb( 0, 255, 175 )", "C049" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 255, 215);" title="C050" onclick='colorButtonClicked( "rgb( 0, 255, 215 )", "C050" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(0, 255, 255);" title="C051" onclick='colorButtonClicked( "rgb( 0, 255, 255 )", "C051" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 0, 0);" title="C088" onclick='colorButtonClicked( "rgb( 135, 0, 0 )", "C088" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 0, 95);" title="C089" onclick='colorButtonClicked( "rgb( 135, 0, 95 )", "C089" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 0, 135);" title="C090" onclick='colorButtonClicked( "rgb( 135, 0, 135 )", "C090" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 0, 175);" title="C091" onclick='colorButtonClicked( "rgb( 135, 0, 175 )", "C091" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 0, 215);" title="C092" onclick='colorButtonClicked( "rgb( 135, 0, 215 )", "C092" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 0, 255);" title="C093" onclick='colorButtonClicked( "rgb( 135, 0, 255 )", "C093" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 95, 0);" title="C094" onclick='colorButtonClicked( "rgb( 135, 95, 0 )", "C094" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 95, 95);" title="C095" onclick='colorButtonClicked( "rgb( 135, 95, 95 )", "C095" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 95, 135);" title="C096" onclick='colorButtonClicked( "rgb( 135, 95, 135 )", "C096" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 95, 175);" title="C097" onclick='colorButtonClicked( "rgb( 135, 95, 175 )", "C097" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 95, 215);" title="C098" onclick='colorButtonClicked( "rgb( 135, 95, 215 )", "C098" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 95, 255);" title="C099" onclick='colorButtonClicked( "rgb( 135, 95, 255 )", "C099" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 135, 0);" title="C100" onclick='colorButtonClicked( "rgb( 135, 135, 0 )", "C100" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 135, 95);" title="C101" onclick='colorButtonClicked( "rgb( 135, 135, 95 )", "C101" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 135, 135);" title="C102" onclick='colorButtonClicked( "rgb( 135, 135, 135 )", "C102" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 135, 175);" title="C103" onclick='colorButtonClicked( "rgb( 135, 135, 175 )", "C103" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 135, 215);" title="C104" onclick='colorButtonClicked( "rgb( 135, 135, 215 )", "C104" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 135, 255);" title="C105" onclick='colorButtonClicked( "rgb( 135, 135, 255 )", "C105" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 175, 0);" title="C106" onclick='colorButtonClicked( "rgb( 135, 175, 0 )", "C106" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 175, 95);" title="C107" onclick='colorButtonClicked( "rgb( 135, 175, 95 )", "C107" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 175, 135);" title="C108" onclick='colorButtonClicked( "rgb( 135, 175, 135 )", "C108" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 175, 175);" title="C109" onclick='colorButtonClicked( "rgb( 135, 175, 175 )", "C109" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 175, 215);" title="C110" onclick='colorButtonClicked( "rgb( 135, 175, 215 )", "C110" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 175, 255);" title="C111" onclick='colorButtonClicked( "rgb( 135, 175, 255 )", "C111" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 215, 0);" title="C112" onclick='colorButtonClicked( "rgb( 135, 215, 0 )", "C112" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 215, 95);" title="C113" onclick='colorButtonClicked( "rgb( 135, 215, 95 )", "C113" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 215, 135);" title="C114" onclick='colorButtonClicked( "rgb( 135, 215, 135 )", "C114" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 215, 175);" title="C115" onclick='colorButtonClicked( "rgb( 135, 215, 175 )", "C115" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 215, 215);" title="C116" onclick='colorButtonClicked( "rgb( 135, 215, 215 )", "C116" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 215, 255);" title="C117" onclick='colorButtonClicked( "rgb( 135, 215, 255 )", "C117" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 255, 0);" title="C118" onclick='colorButtonClicked( "rgb( 135, 255, 0 )", "C118" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 255, 95);" title="C119" onclick='colorButtonClicked( "rgb( 135, 255, 95 )", "C119" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 255, 135);" title="C120" onclick='colorButtonClicked( "rgb( 135, 255, 135 )", "C120" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 255, 175);" title="C121" onclick='colorButtonClicked( "rgb( 135, 255, 175 )", "C121" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 255, 215);" title="C122" onclick='colorButtonClicked( "rgb( 135, 255, 215 )", "C122" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(135, 255, 255);" title="C123" onclick='colorButtonClicked( "rgb( 135, 255, 255 )", "C123" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 0, 0);" title="C160" onclick='colorButtonClicked( "rgb( 215, 0, 0 )", "C160" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 0, 95);" title="C161" onclick='colorButtonClicked( "rgb( 215, 0, 95 )", "C161" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 0, 135);" title="C162" onclick='colorButtonClicked( "rgb( 215, 0, 135 )", "C162" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 0, 175);" title="C163" onclick='colorButtonClicked( "rgb( 215, 0, 175 )", "C163" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 0, 215);" title="C164" onclick='colorButtonClicked( "rgb( 215, 0, 215 )", "C164" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 0, 255);" title="C165" onclick='colorButtonClicked( "rgb( 215, 0, 255 )", "C165" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 95, 0);" title="C166" onclick='colorButtonClicked( "rgb( 215, 95, 0 )", "C166" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 95, 95);" title="C167" onclick='colorButtonClicked( "rgb( 215, 95, 95 )", "C167" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 95, 135);" title="C168" onclick='colorButtonClicked( "rgb( 215, 95, 135 )", "C168" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 95, 175);" title="C169" onclick='colorButtonClicked( "rgb( 215, 95, 175 )", "C169" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 95, 215);" title="C170" onclick='colorButtonClicked( "rgb( 215, 95, 215 )", "C170" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 95, 255);" title="C171" onclick='colorButtonClicked( "rgb( 215, 95, 255 )", "C171" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 135, 0);" title="C172" onclick='colorButtonClicked( "rgb( 215, 135, 0 )", "C172" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 135, 95);" title="C173" onclick='colorButtonClicked( "rgb( 215, 135, 95 )", "C173" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 135, 135);" title="C174" onclick='colorButtonClicked( "rgb( 215, 135, 135 )", "C174" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 135, 175);" title="C175" onclick='colorButtonClicked( "rgb( 215, 135, 175 )", "C175" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 135, 215);" title="C176" onclick='colorButtonClicked( "rgb( 215, 135, 215 )", "C176" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 135, 255);" title="C177" onclick='colorButtonClicked( "rgb( 215, 135, 255 )", "C177" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 175, 0);" title="C178" onclick='colorButtonClicked( "rgb( 215, 175, 0 )", "C178" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 175, 95);" title="C179" onclick='colorButtonClicked( "rgb( 215, 175, 95 )", "C179" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 175, 135);" title="C180" onclick='colorButtonClicked( "rgb( 215, 175, 135 )", "C180" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 175, 175);" title="C181" onclick='colorButtonClicked( "rgb( 215, 175, 175 )", "C181" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 175, 215);" title="C182" onclick='colorButtonClicked( "rgb( 215, 175, 215 )", "C182" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 175, 255);" title="C183" onclick='colorButtonClicked( "rgb( 215, 175, 255 )", "C183" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 215, 0);" title="C184" onclick='colorButtonClicked( "rgb( 215, 215, 0 )", "C184" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 215, 95);" title="C185" onclick='colorButtonClicked( "rgb( 215, 215, 95 )", "C185" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 215, 135);" title="C186" onclick='colorButtonClicked( "rgb( 215, 215, 135 )", "C186" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 215, 175);" title="C187" onclick='colorButtonClicked( "rgb( 215, 215, 175 )", "C187" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 215, 215);" title="C188" onclick='colorButtonClicked( "rgb( 215, 215, 215 )", "C188" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 215, 255);" title="C189" onclick='colorButtonClicked( "rgb( 215, 215, 255 )", "C189" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 255, 0);" title="C190" onclick='colorButtonClicked( "rgb( 215, 255, 0 )", "C190" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 255, 95);" title="C191" onclick='colorButtonClicked( "rgb( 215, 255, 95 )", "C191" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 255, 135);" title="C192" onclick='colorButtonClicked( "rgb( 215, 255, 135 )", "C192" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 255, 175);" title="C193" onclick='colorButtonClicked( "rgb( 215, 255, 175 )", "C193" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 255, 215);" title="C194" onclick='colorButtonClicked( "rgb( 215, 255, 215 )", "C194" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(215, 255, 255);" title="C195" onclick='colorButtonClicked( "rgb( 215, 255, 255 )", "C195" )'></button></div><!--
         --><div id="style-box-colors" style="display: inline-block; width: 37%;padding-left: 0px;padding-right: 0px;"><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 0, 0);" title="C052" onclick='colorButtonClicked( "rgb( 95, 0, 0 )", "C052" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 0, 95);" title="C053" onclick='colorButtonClicked( "rgb( 95, 0, 95 )", "C053" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 0, 135);" title="C054" onclick='colorButtonClicked( "rgb( 95, 0, 135 )", "C054" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 0, 175);" title="C055" onclick='colorButtonClicked( "rgb( 95, 0, 175 )", "C055" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 0, 215);" title="C056" onclick='colorButtonClicked( "rgb( 95, 0, 215 )", "C056" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 0, 255);" title="C057" onclick='colorButtonClicked( "rgb( 95, 0, 255 )", "C057" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 95, 0);" title="C058" onclick='colorButtonClicked( "rgb( 95, 95, 0 )", "C058" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 95, 95);" title="C059" onclick='colorButtonClicked( "rgb( 95, 95, 95 )", "C059" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 95, 135);" title="C060" onclick='colorButtonClicked( "rgb( 95, 95, 135 )", "C060" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 95, 175);" title="C061" onclick='colorButtonClicked( "rgb( 95, 95, 175 )", "C061" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 95, 215);" title="C062" onclick='colorButtonClicked( "rgb( 95, 95, 215 )", "C062" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 95, 255);" title="C063" onclick='colorButtonClicked( "rgb( 95, 95, 255 )", "C063" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 135, 0);" title="C064" onclick='colorButtonClicked( "rgb( 95, 135, 0 )", "C064" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 135, 95);" title="C065" onclick='colorButtonClicked( "rgb( 95, 135, 95 )", "C065" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 135, 135);" title="C066" onclick='colorButtonClicked( "rgb( 95, 135, 135 )", "C066" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 135, 175);" title="C067" onclick='colorButtonClicked( "rgb( 95, 135, 175 )", "C067" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 135, 215);" title="C068" onclick='colorButtonClicked( "rgb( 95, 135, 215 )", "C068" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 135, 255);" title="C069" onclick='colorButtonClicked( "rgb( 95, 135, 255 )", "C069" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 175, 0);" title="C070" onclick='colorButtonClicked( "rgb( 95, 175, 0 )", "C070" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 175, 95);" title="C071" onclick='colorButtonClicked( "rgb( 95, 175, 95 )", "C071" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 175, 135);" title="C072" onclick='colorButtonClicked( "rgb( 95, 175, 135 )", "C072" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 175, 175);" title="C073" onclick='colorButtonClicked( "rgb( 95, 175, 175 )", "C073" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 175, 215);" title="C074" onclick='colorButtonClicked( "rgb( 95, 175, 215 )", "C074" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 175, 255);" title="C075" onclick='colorButtonClicked( "rgb( 95, 175, 255 )", "C075" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 215, 0);" title="C076" onclick='colorButtonClicked( "rgb( 95, 215, 0 )", "C076" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 215, 95);" title="C077" onclick='colorButtonClicked( "rgb( 95, 215, 95 )", "C077" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 215, 135);" title="C078" onclick='colorButtonClicked( "rgb( 95, 215, 135 )", "C078" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 215, 175);" title="C079" onclick='colorButtonClicked( "rgb( 95, 215, 175 )", "C079" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 215, 215);" title="C080" onclick='colorButtonClicked( "rgb( 95, 215, 215 )", "C080" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 215, 255);" title="C081" onclick='colorButtonClicked( "rgb( 95, 215, 255 )", "C081" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 255, 0);" title="C082" onclick='colorButtonClicked( "rgb( 95, 255, 0 )", "C082" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 255, 95);" title="C083" onclick='colorButtonClicked( "rgb( 95, 255, 95 )", "C083" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 255, 135);" title="C084" onclick='colorButtonClicked( "rgb( 95, 255, 135 )", "C084" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 255, 175);" title="C085" onclick='colorButtonClicked( "rgb( 95, 255, 175 )", "C085" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 255, 215);" title="C086" onclick='colorButtonClicked( "rgb( 95, 255, 215 )", "C086" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(95, 255, 255);" title="C087" onclick='colorButtonClicked( "rgb( 95, 255, 255 )", "C087" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 0, 0);" title="C124" onclick='colorButtonClicked( "rgb( 175, 0, 0 )", "C124" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 0, 95);" title="C125" onclick='colorButtonClicked( "rgb( 175, 0, 95 )", "C125" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 0, 135);" title="C126" onclick='colorButtonClicked( "rgb( 175, 0, 135 )", "C126" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 0, 175);" title="C127" onclick='colorButtonClicked( "rgb( 175, 0, 175 )", "C127" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 0, 215);" title="C128" onclick='colorButtonClicked( "rgb( 175, 0, 215 )", "C128" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 0, 255);" title="C129" onclick='colorButtonClicked( "rgb( 175, 0, 255 )", "C129" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 95, 0);" title="C130" onclick='colorButtonClicked( "rgb( 175, 95, 0 )", "C130" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 95, 95);" title="C131" onclick='colorButtonClicked( "rgb( 175, 95, 95 )", "C131" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 95, 135);" title="C132" onclick='colorButtonClicked( "rgb( 175, 95, 135 )", "C132" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 95, 175);" title="C133" onclick='colorButtonClicked( "rgb( 175, 95, 175 )", "C133" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 95, 215);" title="C134" onclick='colorButtonClicked( "rgb( 175, 95, 215 )", "C134" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 95, 255);" title="C135" onclick='colorButtonClicked( "rgb( 175, 95, 255 )", "C135" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 135, 0);" title="C136" onclick='colorButtonClicked( "rgb( 175, 135, 0 )", "C136" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 135, 95);" title="C137" onclick='colorButtonClicked( "rgb( 175, 135, 95 )", "C137" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 135, 135);" title="C138" onclick='colorButtonClicked( "rgb( 175, 135, 135 )", "C138" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 135, 175);" title="C139" onclick='colorButtonClicked( "rgb( 175, 135, 175 )", "C139" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 135, 215);" title="C140" onclick='colorButtonClicked( "rgb( 175, 135, 215 )", "C140" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 135, 255);" title="C141" onclick='colorButtonClicked( "rgb( 175, 135, 255 )", "C141" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 175, 0);" title="C142" onclick='colorButtonClicked( "rgb( 175, 175, 0 )", "C142" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 175, 95);" title="C143" onclick='colorButtonClicked( "rgb( 175, 175, 95 )", "C143" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 175, 135);" title="C144" onclick='colorButtonClicked( "rgb( 175, 175, 135 )", "C144" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 175, 175);" title="C145" onclick='colorButtonClicked( "rgb( 175, 175, 175 )", "C145" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 175, 215);" title="C146" onclick='colorButtonClicked( "rgb( 175, 175, 215 )", "C146" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 175, 255);" title="C147" onclick='colorButtonClicked( "rgb( 175, 175, 255 )", "C147" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 215, 0);" title="C148" onclick='colorButtonClicked( "rgb( 175, 215, 0 )", "C148" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 215, 95);" title="C149" onclick='colorButtonClicked( "rgb( 175, 215, 95 )", "C149" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 215, 135);" title="C150" onclick='colorButtonClicked( "rgb( 175, 215, 135 )", "C150" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 215, 175);" title="C151" onclick='colorButtonClicked( "rgb( 175, 215, 175 )", "C151" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 215, 215);" title="C152" onclick='colorButtonClicked( "rgb( 175, 215, 215 )", "C152" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 215, 255);" title="C153" onclick='colorButtonClicked( "rgb( 175, 215, 255 )", "C153" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 255, 0);" title="C154" onclick='colorButtonClicked( "rgb( 175, 255, 0 )", "C154" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 255, 95);" title="C155" onclick='colorButtonClicked( "rgb( 175, 255, 95 )", "C155" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 255, 135);" title="C156" onclick='colorButtonClicked( "rgb( 175, 255, 135 )", "C156" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 255, 175);" title="C157" onclick='colorButtonClicked( "rgb( 175, 255, 175 )", "C157" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 255, 215);" title="C158" onclick='colorButtonClicked( "rgb( 175, 255, 215 )", "C158" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(175, 255, 255);" title="C159" onclick='colorButtonClicked( "rgb( 175, 255, 255 )", "C159" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 0, 0);" title="C196" onclick='colorButtonClicked( "rgb( 255, 0, 0 )", "C196" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 0, 95);" title="C197" onclick='colorButtonClicked( "rgb( 255, 0, 95 )", "C197" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 0, 135);" title="C198" onclick='colorButtonClicked( "rgb( 255, 0, 135 )", "C198" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 0, 175);" title="C199" onclick='colorButtonClicked( "rgb( 255, 0, 175 )", "C199" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 0, 215);" title="C200" onclick='colorButtonClicked( "rgb( 255, 0, 215 )", "C200" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 0, 255);" title="C201" onclick='colorButtonClicked( "rgb( 255, 0, 255 )", "C201" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 95, 0);" title="C202" onclick='colorButtonClicked( "rgb( 255, 95, 0 )", "C202" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 95, 95);" title="C203" onclick='colorButtonClicked( "rgb( 255, 95, 95 )", "C203" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 95, 135);" title="C204" onclick='colorButtonClicked( "rgb( 255, 95, 135 )", "C204" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 95, 175);" title="C205" onclick='colorButtonClicked( "rgb( 255, 95, 175 )", "C205" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 95, 215);" title="C206" onclick='colorButtonClicked( "rgb( 255, 95, 215 )", "C206" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 95, 255);" title="C207" onclick='colorButtonClicked( "rgb( 255, 95, 255 )", "C207" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 135, 0);" title="C208" onclick='colorButtonClicked( "rgb( 255, 135, 0 )", "C208" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 135, 95);" title="C209" onclick='colorButtonClicked( "rgb( 255, 135, 95 )", "C209" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 135, 135);" title="C210" onclick='colorButtonClicked( "rgb( 255, 135, 135 )", "C210" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 135, 175);" title="C211" onclick='colorButtonClicked( "rgb( 255, 135, 175 )", "C211" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 135, 215);" title="C212" onclick='colorButtonClicked( "rgb( 255, 135, 215 )", "C212" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 135, 255);" title="C213" onclick='colorButtonClicked( "rgb( 255, 135, 255 )", "C213" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 175, 0);" title="C214" onclick='colorButtonClicked( "rgb( 255, 175, 0 )", "C214" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 175, 95);" title="C215" onclick='colorButtonClicked( "rgb( 255, 175, 95 )", "C215" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 175, 135);" title="C216" onclick='colorButtonClicked( "rgb( 255, 175, 135 )", "C216" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 175, 175);" title="C217" onclick='colorButtonClicked( "rgb( 255, 175, 175 )", "C217" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 175, 215);" title="C218" onclick='colorButtonClicked( "rgb( 255, 175, 215 )", "C218" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 175, 255);" title="C219" onclick='colorButtonClicked( "rgb( 255, 175, 255 )", "C219" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 215, 0);" title="C220" onclick='colorButtonClicked( "rgb( 255, 215, 0 )", "C220" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 215, 95);" title="C221" onclick='colorButtonClicked( "rgb( 255, 215, 95 )", "C221" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 215, 135);" title="C222" onclick='colorButtonClicked( "rgb( 255, 215, 135 )", "C222" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 215, 175);" title="C223" onclick='colorButtonClicked( "rgb( 255, 215, 175 )", "C223" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 215, 215);" title="C224" onclick='colorButtonClicked( "rgb( 255, 215, 215 )", "C224" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 215, 255);" title="C225" onclick='colorButtonClicked( "rgb( 255, 215, 255 )", "C225" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 255, 0);" title="C226" onclick='colorButtonClicked( "rgb( 255, 255, 0 )", "C226" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 255, 95);" title="C227" onclick='colorButtonClicked( "rgb( 255, 255, 95 )", "C227" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 255, 135);" title="C228" onclick='colorButtonClicked( "rgb( 255, 255, 135 )", "C228" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 255, 175);" title="C229" onclick='colorButtonClicked( "rgb( 255, 255, 175 )", "C229" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 255, 215);" title="C230" onclick='colorButtonClicked( "rgb( 255, 255, 215 )", "C230" )'></button><button style="width: 16%; padding-top: 16%; background-color: rgb(255, 255, 255);" title="C231" onclick='colorButtonClicked( "rgb( 255, 255, 255 )", "C231" )'></button></div>
        </div>
        <div id="style-box-colors"><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(68, 68, 68);" title="C238" onclick='colorButtonClicked( "rgb( 68, 68, 68 )", "C238" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(78, 78, 78);" title="C239" onclick='colorButtonClicked( "rgb( 78, 78, 78 )", "C239" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(88, 88, 88);" title="C240" onclick='colorButtonClicked( "rgb( 88, 88, 88 )", "C240" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(98, 98, 98);" title="C241" onclick='colorButtonClicked( "rgb( 98, 98, 98 )", "C241" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(108, 108, 108);" title="C242" onclick='colorButtonClicked( "rgb( 108, 108, 108 )", "C242" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(118, 118, 118);" title="C243" onclick='colorButtonClicked( "rgb( 118, 118, 118 )", "C243" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(128, 128, 128);" title="C244" onclick='colorButtonClicked( "rgb( 128, 128, 128 )", "C244" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(138, 138, 138);" title="C245" onclick='colorButtonClicked( "rgb( 138, 138, 138 )", "C245" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(148, 148, 148);" title="C246" onclick='colorButtonClicked( "rgb( 148, 148, 148 )", "C246" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(158, 158, 158);" title="C247" onclick='colorButtonClicked( "rgb( 158, 158, 158 )", "C247" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(168, 168, 168);" title="C248" onclick='colorButtonClicked( "rgb( 168, 168, 168 )", "C248" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(178, 178, 178);" title="C249" onclick='colorButtonClicked( "rgb( 178, 178, 178 )", "C249" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(188, 188, 188);" title="C250" onclick='colorButtonClicked( "rgb( 188, 188, 188 )", "C250" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(198, 198, 198);" title="C251" onclick='colorButtonClicked( "rgb( 198, 198, 198 )", "C251" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(208, 208, 208);" title="C252" onclick='colorButtonClicked( "rgb( 208, 208, 208 )", "C252" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(218, 218, 218);" title="C253" onclick='colorButtonClicked( "rgb( 218, 218, 218 )", "C253" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(228, 228, 228);" title="C254" onclick='colorButtonClicked( "rgb( 228, 228, 228 )", "C254" )'></button><button style="width: 6.25%; padding-top: 6.25%; background-color: rgb(238, 238, 238);" title="C255" onclick='colorButtonClicked( "rgb( 238, 238, 238 )", "C255" )'></button></div>
        <p></p>
        <input type="checkbox" id="locked_input" name="locked_input" value="Lock input field" onclick="inputLockChange()">
        <label for="locked_input">Lock input field</label>
    </div>


<script>

class ColorCombo
{
    constructor ( color_code, hex_code, nocolor )
    {
        this.colorcode = "%^" + color_code + "%^";
        this.hex_code = hex_code;
        this.nothing = nocolor;
    }
}

class ColoredString
{/*
    constructor( color_code, hex_code, text )
    {
        this.colorcode = "%^" + color_code + "%^";
        this.hex_code = hex_code;
        this.text = text;
    }*/

    constructor( color_combo, text )
    {
        this.colorcode = color_combo.colorcode;
        this.hex_code = color_combo.hex_code;
        this.nothing = color_combo.nothing;
        this.text = text;
    }
}

var colorTracker = [];
colorTracker.push( new ColoredString( new ColorCombo( "CRST", "rgb( 192, 192, 192 )", true ), "Bided time is time spent wasted." ) )

var default_color = new ColorCombo( "CRST", "rgb( " + 192 + ", " + 192 + ", " + 192 + " )", true );
var input_field = document.getElementById( "rawinput" );
var input_lock_box = document.getElementById( "locked_input" );

function inputLockChange()
{
    if ( input_field.getAttribute( "readonly" ) )
    {
        input_field.removeAttribute( "readonly" );
    }
    else
    {
        input_field.setAttribute( "readonly", true );
    }
}

function properlyFormatColorCode( number_to_format )
{
    if ( number_to_format > 99 )
    {
        return "C" + number_to_format;
    }

    if ( number_to_format < 10 )
    {
        return "C00" + number_to_format;
    }

    if ( number_to_format < 100 )
    {
        return "C0" + number_to_format;
    }
}

function colorButtonClicked( hex_color, color_tag )
{
    /*
    DEBUG
    console.log( hex_color )
    console.log( color_tag )
    console.log( input_field.selectionStart + ", " + input_field.selectionEnd )

    INFO:
    Cursor position 0 is before the first character
    */
    updateColorTracker( new ColorCombo( color_tag, hex_color, false ) );
    cleanColorTracker();
    renderPreview();
    updateOutput();
}

function updateColorTracker( color )
{
    // I am not in the right headspace to write this shit... But I'm gonna do it anyway ;)
    var startOfColor = input_field.selectionStart;
    var charactersToSteal = input_field.selectionEnd - startOfColor;
    var totalLengthPassed = 0;
    var insertAfter;

    for ( var i = 0; i < colorTracker.length; ++i )
    {
        if ( startOfColor < colorTracker[ i ].text.length + totalLengthPassed )
        {
            insertAfter = i;

            if ( charactersToSteal <= colorTracker[ i ].text.substr( startOfColor - totalLengthPassed ).length )
            {
                var bifurcand = colorTracker[ i ].text.substr( charactersToSteal + startOfColor - totalLengthPassed );
                colorTracker[ i ].text = colorTracker[ i ].text.substr( 0, startOfColor - totalLengthPassed );
                colorTracker.splice( i + 1, 0, new ColoredString( color, input_field.value.substr( startOfColor, input_field.selectionEnd - startOfColor ) ) );
                colorTracker.splice( i + 2, 0, new ColoredString( new ColorCombo( colorTracker[ i ].colorcode.substr( 2, 4 ), colorTracker[ i ].hex_code, colorTracker[ i ].nothing ), bifurcand ) )
                return;
            }

            charactersToSteal -= colorTracker[ i ].text.substr( startOfColor - totalLengthPassed ).length;
            colorTracker[ i ].text = colorTracker[ i ].text.substr( 0, startOfColor - totalLengthPassed );
            ++i;

            while( charactersToSteal > colorTracker[ i ].text.length )
            {
                charactersToSteal -= colorTracker[ i ].text.length;
                colorTracker.splice( i, 1 );
            }

            var newString = new ColoredString( color, input_field.value.substr( startOfColor, input_field.selectionEnd - startOfColor ) );
            colorTracker[ i ].text = colorTracker[ i ].text.substr( charactersToSteal );
            colorTracker.splice( insertAfter + 1, 0, newString );

            return;
        }
        else
        {
            totalLengthPassed += colorTracker[ i ].text.length;
        }
    }
}

function cleanColorTracker()
{
    for ( var i = 0; i < colorTracker.length; ++i )
    {
        if ( !colorTracker[ i ] || !colorTracker[ i ].text )
        {
            colorTracker.splice( i, 1 );
            if ( i != 0 )
                --i;
        }
    }
    for ( var i = 0; i < colorTracker.length; ++i )
    {
        if ( colorTracker.length != i + 1 && colorTracker[ i ].colorcode == colorTracker[ i + 1 ].colorcode )
        {
            colorTracker[ i ].text = colorTracker[ i ].text + colorTracker[ i + 1 ].text;
            colorTracker.splice( i + 1, 1 );
            --i;
        }
    }
}

function renderPreview()
{
    // TODO: This could be a for-each.
    var newPreviewText = "";
    for ( var i = 0; i < colorTracker.length; ++i )
    {
        if ( !colorTracker[ i ].nothing )
            newPreviewText += "<mark style=\"color: " + colorTracker[ i ].hex_code + "\">" + colorTracker[ i ].text + "</mark>";
        else
            newPreviewText += colorTracker[ i ].text;
    }

    document.getElementById( "preview" ).innerHTML = newPreviewText;
}

function updateOutput()
{
    // TODO: This could be a for-each.
    var newOutput = "";
    for ( var i = 0; i < colorTracker.length; ++i )
    {
        if ( !colorTracker[ i ].nothing )
        {
            newOutput += colorTracker[ i ].colorcode + colorTracker[ i ].text;
            if ( i + 1 == colorTracker.length ) // This is nested because I don't know how JS behaves when you reference a potentially non-existent element.
                newOutput += "%^CRST%^"
        }
        else if ( i != 0 )
            newOutput += "%^CRST%^" + colorTracker[ i ].text;
        else
        newOutput += colorTracker[ i ].text;
    }

    document.getElementById( "rawoutput" ).textContent = newOutput;
}

function updatedInput()
{
    // TODO: Keep colors.
    colorTracker.splice( 0, colorTracker.length, new ColoredString( new ColorCombo( "CRST", "rgb( 192, 192, 192 )", true ), input_field.value ) )
    cleanColorTracker();
    renderPreview();
    updateOutput();
}
</script></body></html>
